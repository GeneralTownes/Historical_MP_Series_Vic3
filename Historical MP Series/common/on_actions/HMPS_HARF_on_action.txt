


#regional on action
HARF_region_on_action = {
	effect = {
		if = {
			limit = {
				NOT = { has_global_variable = harf_agri }
			}
			set_global_variable = {
				name = harf_agri
				days = 365
			}
			every_state = {
				if = {
					limit = {
						has_modifier = modifier_agri_HARF_neg_40
					}
					remove_modifier = modifier_agri_HARF_neg_40
				}
				if = {
					limit = {
						has_modifier = modifier_agri_HARF_neg_30
					}
					remove_modifier = modifier_agri_HARF_neg_30
				}
				if = {
					limit = {
						has_modifier = modifier_agri_HARF_neg_20
					}
					remove_modifier = modifier_agri_HARF_neg_20
				}
				if = {
					limit = {
						has_modifier = modifier_agri_HARF_neg_10
					}
					remove_modifier = modifier_agri_HARF_neg_10
				}
				if = {
					limit = {
						has_modifier = modifier_agri_HARF_pos_10
					}
					remove_modifier = modifier_agri_HARF_pos_10
				}
				if = {
					limit = {
						has_modifier = modifier_agri_HARF_pos_20
					}
					remove_modifier = modifier_agri_HARF_pos_20
				}
				if = {
					limit = {
						has_modifier = modifier_agri_HARF_pos_30
					}
					remove_modifier = modifier_agri_HARF_pos_30
				}
				if = {
					limit = {
						has_modifier = modifier_agri_HARF_pos_40
					}
					remove_modifier = modifier_agri_HARF_pos_40
				}
			}
			every_in_global_list = {
				variable = strategic_region_list
				random_list = {
					11 = {
						every_scope_state = {
							add_modifier = {
								name = modifier_agri_HARF_neg_40
							}
						}
					}
					22 = {
						every_scope_state = {
							add_modifier = {
								name = modifier_agri_HARF_neg_30
							}
						}
					}
					45 = {
						every_scope_state = {
							add_modifier = {
								name = modifier_agri_HARF_neg_20
							}
						}
					}
					90 = {
						every_scope_state = {
							add_modifier = {
								name = modifier_agri_HARF_neg_10
							}
						}
					}
					600 = { }
					110 = {
						every_scope_state = {
							add_modifier = {
								name = modifier_agri_HARF_pos_10
							}
						}
					}
					65 = {
						every_scope_state = {
							add_modifier = {
								name = modifier_agri_HARF_pos_20
							}
						}
					}
					32 = {
						every_scope_state = {
							add_modifier = {
								name = modifier_agri_HARF_pos_30
							}
						}
					}
					17 = {
						every_scope_state = {
							add_modifier = {
								name = modifier_agri_HARF_pos_40
							}
						}
					}
				}
			}
		}
	}
}

#local component of each state
HARF_local_on_action = {
	effect = {
		if = {
			limit = {
				has_modifier = modifier_bounteous_vein_iron
			}
			remove_modifier = modifier_bounteous_vein_iron
		}
		if = {
			limit = {
				has_modifier = modifier_new_vein_iron
			}
			remove_modifier = modifier_new_vein_iron
		}
		if = {
			limit = {
				has_modifier = modifier_dwindling_mine_iron
			}
			remove_modifier = modifier_dwindling_mine_iron
		}
		if = {
			limit = {
				has_modifier = modifier_depleted_mine_iron
			}
			remove_modifier = modifier_depleted_mine_iron
		}
		if = {
			limit = {
				has_modifier = modifier_bounteous_vein_coal
			}
			remove_modifier = modifier_bounteous_vein_coal
		}
		if = {
			limit = {
				has_modifier = modifier_new_vein_coal
			}
			remove_modifier = modifier_new_vein_coal
		}
		if = {
			limit = {
				has_modifier = modifier_dwindling_mine_coal
			}
			remove_modifier = modifier_dwindling_mine_coal
		}
		if = {
			limit = {
				has_modifier = modifier_depleted_mine_coal
			}
			remove_modifier = modifier_depleted_mine_coal
		}
		if = {
			limit = {
				has_modifier = modifier_bounteous_vein_sulfur
			}
			remove_modifier = modifier_bounteous_vein_sulfur
		}
		if = {
			limit = {
				has_modifier = modifier_new_vein_sulfur
			}
			remove_modifier = modifier_new_vein_sulfur
		}
		if = {
			limit = {
				has_modifier = modifier_dwindling_mine_sulfur
			}
			remove_modifier = modifier_dwindling_mine_sulfur
		}
		if = {
			limit = {
				has_modifier = modifier_depleted_mine_sulfur
			}
			remove_modifier = modifier_depleted_mine_sulfur
		}
		if = {
			limit = {
				has_modifier = modifier_bounteous_vein_lead
			}
			remove_modifier = modifier_bounteous_vein_lead
		}
		if = {
			limit = {
				has_modifier = modifier_new_vein_lead
			}
			remove_modifier = modifier_new_vein_lead
		}
		if = {
			limit = {
				has_modifier = modifier_dwindling_mine_lead
			}
			remove_modifier = modifier_dwindling_mine_lead
		}
		if = {
			limit = {
				has_modifier = modifier_depleted_mine_lead
			}
			remove_modifier = modifier_depleted_mine_lead
		}
		if = {
			limit = {
				has_modifier = modifier_bounteous_vein_gold
			}
			remove_modifier = modifier_bounteous_vein_gold
		}
		if = {
			limit = {
				has_modifier = modifier_new_vein_gold
			}
			remove_modifier = modifier_new_vein_gold
		}
		if = {
			limit = {
				has_modifier = modifier_dwindling_mine_gold
			}
			remove_modifier = modifier_dwindling_mine_gold
		}
		if = {
			limit = {
				has_modifier = modifier_depleted_mine_gold
			}
			remove_modifier = modifier_depleted_mine_gold
		}
		if = { 		
			limit = {
				has_building = building_iron_mine
			}
			random_list = {
				28 = {
					add_modifier = {
						name = modifier_bounteous_vein_iron
					}
				}
				14 = {
					add_modifier = {
						name = modifier_new_vein_iron
					}
				}
				150 = { }
				10 = {
					add_modifier = {
						name = modifier_dwindling_mine_iron
					}
				}
				20 = {
					add_modifier = {
						name = modifier_depleted_mine_iron
					}
				}
			}
		}
		if = { 		
			limit = {
				has_building = building_coal_mine
			}
			random_list = {
				14 = {
					add_modifier = {
						name = modifier_bounteous_vein_coal
					}
				}
				28 = {
					add_modifier = {
						name = modifier_new_vein_coal
					}
				}
				150 = { }
				20 = {
					add_modifier = {
						name = modifier_dwindling_mine_coal
					}
				}
				10 = {
					add_modifier = {
						name = modifier_depleted_mine_coal
					}
				}
			}
		}
		if = { 		
			limit = {
				has_building = building_sulfur_mine
			}
			random_list = {
				14 = {
					add_modifier = {
						name = modifier_bounteous_vein_sulfur
					}
				}
				28 = {
					add_modifier = {
						name = modifier_new_vein_sulfur
					}
				}
				150 = { }
				20 = {
					add_modifier = {
						name = modifier_dwindling_mine_sulfur
					}
				}
				10 = {
					add_modifier = {
						name = modifier_depleted_mine_sulfur
					}
				}
			}
		}
		if = { 		
			limit = {
				has_building = building_lead_mine
			}
			random_list = {
				14 = {
					add_modifier = {
						name = modifier_bounteous_vein_lead
					}
				}
				28 = {
					add_modifier = {
						name = modifier_new_vein_lead
					}
				}
				150 = { }
				20 = {
					add_modifier = {
						name = modifier_dwindling_mine_lead
					}
				}
				10 = {
					add_modifier = {
						name = modifier_depleted_mine_lead
					}
				}
			}
		}
		if = { 		
			limit = {
				has_building = building_gold_mine
			}
			random_list = {
				28 = {
					add_modifier = {
						name = modifier_bounteous_vein_gold
					}
				}
				14 = {
					add_modifier = {
						name = modifier_new_vein_gold
					}
				}
				150 = { }
				20 = {
					add_modifier = {
						name = modifier_dwindling_mine_gold
					}
				}
				10 = {
					add_modifier = {
						name = modifier_depleted_mine_gold
					}
				}
			}
		}
	}
}

