je_chinese_industry = {
	icon = "gfx/interface/icons/event_icons/event_industry.dds"
	
	group = je_group_historical_content
	
	immediate = {
		set_global_variable = {
			name = chinese_industrial_advancement
			value = 0
		}
	}
	
	complete = {
		custom_tooltip = {
			text = je_china_economic_success_tt
			scope:journal_entry = {
				is_goal_complete = yes
			}
		}
	}
	
	on_complete = {
		remove_modifier = chinese_economic_stagnation
	}

	on_monthly_pulse = {
		effect = {
			### Criteria
			if = {
				limit = {
					has_technology_researched = lathe
					GDP >= 100000000
					NOT = { has_global_variable = lvl_1_chinese_industry }
				}
				change_global_variable = {
					name = chinese_industrial_advancement
					add = 1
				}
				set_global_variable = lvl_1_chinese_industry
			}
			if = {
				limit = {
					has_technology_researched = nitroglycerin
					GDP >= 200000000
					NOT = { has_global_variable = lvl_2_chinese_industry }
				}
				change_global_variable = {
					name = chinese_industrial_advancement
					add = 1
				}
				set_global_variable = lvl_2_chinese_industry
			}
			if = {
				limit = {
					has_technology_researched = railways
					GDP >= 300000000
					NOT = { has_global_variable = lvl_3_chinese_industry }
				}
				change_global_variable = {
					name = chinese_industrial_advancement
					add = 1
				}
				set_global_variable = lvl_3_chinese_industry
			}
			if = {
				limit = {
					has_technology_researched = pumpjacks
					GDP >= 400000000
					NOT = { has_global_variable = lvl_4_chinese_industry }
				}
				change_global_variable = {
					name = chinese_industrial_advancement
					add = 1
				}
				set_global_variable = lvl_4_chinese_industry
			}
			if = {
				limit = {
					has_technology_researched = electrical_generation
					GDP >= 500000000
					NOT = { has_global_variable = lvl_5_chinese_industry }
				}
				change_global_variable = {
					name = chinese_industrial_advancement
					add = 1
				}
				set_global_variable = lvl_5_chinese_industry
			}
			
			### Modifiers
			remove_modifier = chinese_economic_stagnation
			if = {
				limit = {
					global_var:chinese_industrial_advancement = 0
				}
				add_modifier = {
					name = chinese_economic_stagnation
				}
			}
			if = {
				limit = {
					global_var:chinese_industrial_advancement = 1
				}
				add_modifier = {
					name = chinese_economic_stagnation
					multiplier = 0.8
				}
			}
			if = {
				limit = {
					global_var:chinese_industrial_advancement = 2
				}
				add_modifier = {
					name = chinese_economic_stagnation
					multiplier = 0.6
				}
			}
			if = {
				limit = {
					global_var:chinese_industrial_advancement = 3
				}
				add_modifier = {
					name = chinese_economic_stagnation
					multiplier = 0.4
				}
			}
			if = {
				limit = {
					global_var:chinese_industrial_advancement = 4
				}
				add_modifier = {
					name = chinese_economic_stagnation
					multiplier = 0.2
				}
			}
		}
	}

	current_value = {
		value = global_var:chinese_industrial_advancement
	}

	goal_add_value = {
		value = 5
	}

	progressbar = yes

	can_revolution_inherit = yes

	weight = 5000
	should_be_pinned_by_default = yes
}