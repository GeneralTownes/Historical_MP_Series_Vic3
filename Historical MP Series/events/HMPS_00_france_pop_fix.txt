namespace = france_pop_fix

#yearly to track variable
france_pop_fix.1 = {
	
	hidden = yes

	type = country_event
	placement = ROOT


	trigger = {
		owns_entire_state_region = STATE_ILE_DE_FRANCE
	}
	
	immediate = {
		if = {
			limit = { 
				has_global_variable = var_france_early_game_birth_fix
			}
			change_global_variable = {
				name = var_france_early_game_birth_fix
				subtract = 0.0075
			}
		}
		change_global_variable = {
			name = var_france_baby_bust
			subtract = 0.0025
		}
	}
}

#monthly for variable modifier
france_pop_fix.2 = {
	
	hidden = yes

	type = country_event
	placement = ROOT

	trigger = {
		has_modifier = france_baby_bust_2
	}
		
	immediate = {
		remove_modifier = france_baby_bust_2
		if = {
			limit = {
				has_modifier = france_early_game_birth_fix_2
			}
			remove_modifier = france_early_game_birth_fix_2
		}
		if = {
			limit = {
				has_global_variable = var_france_early_game_birth_fix
			}
			add_modifier = {
				name = france_early_game_birth_fix_2
				multiplier = global_var:var_france_early_game_birth_fix
			}
		}
		add_modifier = {
			name = france_baby_bust_2
			multiplier = global_var:var_france_baby_bust
		}
	}
	
}

#event to readd modifiers if lost
france_pop_fix.3 = {	
	hidden = yes

	type = country_event
	placement = ROOT
	
	trigger = {
		owns_entire_state_region = STATE_ILE_DE_FRANCE
		has_primary_culture = cu:french
		NOT = { has_modifier = france_baby_bust }
		NOT = { has_modifier = france_baby_bust_2 }
		if = {
			limit = {
				has_global_variable = var_france_early_game_birth_fix
			}
			NOT = { has_modifier = france_early_game_birth_fix }
			NOT = { has_modifier = france_early_game_birth_fix_2 }
		}
	}
	
	immediate = {
		if = {
			limit = {
				has_global_variable = var_france_early_game_birth_fix
			}
			add_modifier = {
				name = france_early_game_birth_fix_2
				multiplier = global_var:var_france_early_game_birth_fix
			}
		}
		add_modifier = {
			name = france_baby_bust_2
			multiplier = global_var:var_france_baby_bust
		}
	}
}