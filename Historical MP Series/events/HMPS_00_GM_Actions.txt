namespace = gm_actions

gm_actions.1 = {
	type = country_event
	placement = ROOT
	title = gm_actions.1.t
	desc = gm_actions.1.d
	flavor = gm_actions.1.f

	event_image = {
		video = "unspecific_signed_contract"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	duration = 1
	
	trigger = {
		#triggered by diplo action
	}

	immediate = {
		random_country = {
			limit = {
				has_variable = actionee
			}
			save_scope_as = recipient
		}
	}
	
	#GM options
	
	option = {
		name = gm_actions.1.a
		default_option = yes
		remove_global_variable = GM_taking_action
		random_country = {
			limit = {
				has_variable = actionee
			}
			remove_variable = actionee
		}
	}
	
	#Infamy
	
	option = {
		name = gm_actions.1.b
		trigger_event = {
			id = gm_actions.2
			days = 0
			popup = yes
		}
	}
	
	#Money
	option = {
		name = gm_actions.1.c
		trigger_event = {
			id = gm_actions.7
			days = 0
			popup = yes
		}
	}
	
	#Building
	option = {
		name = gm_actions.1.e
		trigger_event = {
			id = gm_actions.16
			days = 0
			popup = yes
		}
	}
	
	#War_exhaustion/capitulation
	
	option = {
		name = gm_actions.1.g
		trigger = {
			any_country = {
				is_at_war = yes
				has_variable = actionee
				NOT = { this = ROOT }
			}
		}
		trigger_event = {
			id = gm_actions.14
			days = 0
			popup = yes
		}
	}
	
	#Change GM
	
	option = {
		name = gm_actions.1.h
		trigger = {
			NOT = {
				has_variable = actionee
			}
		}
		trigger_event = {
			id = gm_actions.15
			days = 0
			popup = yes
		}
	}
	
	#(Un)Incorporate a State
	
	option = {
		name = gm_actions.17.t
		trigger_event = {
			id = gm_actions.17
			days = 0
			popup = yes
		}
	}
	
	
	#Modifiers
	
	#Radicals/Loyalists

	
}


#Add war exhaustion
gm_actions.14 = {
	type = country_event
	placement = ROOT
	title = gm_actions.14.t
	desc = gm_actions.14.d
	flavor = gm_actions.14.f

	event_image = {
		video = "unspecific_signed_contract"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	duration = 1

	immediate = {
		random_country = {
			limit = {
				has_variable = actionee
			}
			save_scope_as = recipient
		}
	}
	
	option = {
		name = gm_actions.14.a
		trigger = {
			scope:recipient = {
				is_at_war = yes
			}
		}
		remove_global_variable = GM_taking_action
		scope:recipient = {
			random_scope_war = {
				add_war_war_support = {
					target = scope:recipient
					value = -200
				}
				remove_variable = actionee
			}
		}
	}	
	
	option = {
		name = gm_actions.14.b
		trigger = {
			scope:recipient = {
				is_at_war = yes						
			}
		}
		trigger_event = {
			id = gm_actions.14
			days = 0
			popup = yes
		}
	}		
	
	option = {
		name = gm_actions.14.c
		remove_global_variable = GM_taking_action
		scope:recipient = {
			remove_variable = actionee
		}
	}
}

#Change GM
gm_actions.15 = {
	type = country_event
	placement = ROOT
	title = gm_actions.15.t
	desc = gm_actions.15.d

	event_image = {
		video = "unspecific_signed_contract"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	duration = 1

	immediate = {
		random_country = {
			limit = {
				has_variable = actionee
			}
			save_scope_as = recipient
		}
	}
	
	option = {
		name = gm_actions.15.a
		remove_modifier = game_master
		scope:recipient = {
			add_modifier = game_master
			remove_variable = actionee
		}
		remove_global_variable = GM_taking_action
	}
	
	option = {
		name = gm_actions.15.b
		scope:recipient = {
			remove_variable = actionee
		}
		remove_global_variable = GM_taking_action
	}
	
}

gm_actions.16 = {
	type = country_event
	placement = ROOT
	title = gm_actions.16.t
	desc = gm_actions.16.d
	flavor = gm_actions.16.f

	event_image = {
		video = "unspecific_signed_contract"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	duration = 1

	immediate = {
		random_country = {
			limit = {
				has_variable = actionee
			}
			save_scope_as = recipient
		}
	}
	
	option = {
		name = gm_actions.16.a
		scope:recipient = {
			if = {
				limit = {
					any_scope_state = {
						has_decree = decree_host_scope
					}
				}
				random_scope_state = {
					limit = {
						has_decree = decree_host_scope
					}
						
					if = {
						limit = {
							NOT = { has_building = building_university }
						}
						create_building={
							building="building_university"
							level=1
							reserves=1
						}
					}
					else_if = {
						limit = {
							state_has_building_group_levels = {
								type = bg_technology
								value = 1
							}
						}
						create_building={
							building="building_university"
							level=2
							reserves=1
						}
					}
					else_if = {
						limit = {
							state_has_building_group_levels = {
								type = bg_technology
								value = 2
							}
						}
						create_building={
							building="building_university"
							level=3
							reserves=1
						}
					}
					else_if = {
						limit = {
							state_has_building_group_levels = {
								type = bg_technology
								value = 3
							}
						}
						create_building={
							building="building_university"
							level=4
							reserves=1
						}
					}
					else_if = {
						limit = {
							state_has_building_group_levels = {
								type = bg_technology
								value = 4
							}
						}
						create_building={
							building="building_university"
							level=5
							reserves=1
						}
					}
					else_if = {
						limit = {
							state_has_building_group_levels = {
								type = bg_technology
								value = 5
							}
						}
						create_building={
							building="building_university"
							level=6
							reserves=1
						}
					}
					else_if = {
						limit = {
							state_has_building_group_levels = {
								type = bg_technology
								value = 6
							}
						}
						create_building={
							building="building_university"
							level=7
							reserves=1
						}
					}
					else_if = {
						limit = {
							state_has_building_group_levels = {
								type = bg_technology
								value = 7
							}
						}
						create_building={
							building="building_university"
							level=8
							reserves=1
						}
					}
					else_if = {
						limit = {
							state_has_building_group_levels = {
								type = bg_technology
								value = 8
							}
						}
						create_building={
							building="building_university"
							level=9
							reserves=1
						}
					}
					else_if = {
						limit = {
							state_has_building_group_levels = {
								type = bg_technology
								value = 9
							}
						}
						create_building={
							building="building_university"
							level=10
							reserves=1
						}
					}
					else_if = {
						limit = {
							state_has_building_group_levels = {
								type = bg_technology
								value = 10
							}
						}
						create_building={
							building="building_university"
							level=11
							reserves=1
						}
					}
					else_if = {
						limit = {
							state_has_building_group_levels = {
								type = bg_technology
								value = 11
							}
						}
						create_building={
							building="building_university"
							level=12
							reserves=1
						}
					}
					else_if = {
						limit = {
							state_has_building_group_levels = {
								type = bg_technology
								value = 12
							}
						}
						create_building={
							building="building_university"
							level=13
							reserves=1
						}
					}
					else_if = {
						limit = {
							state_has_building_group_levels = {
								type = bg_technology
								value = 13
							}
						}
						create_building={
							building="building_university"
							level=14
							reserves=1
						}
					}
					else_if = {
						limit = {
							state_has_building_group_levels = {
								type = bg_technology
								value = 14
							}
						}
						create_building={
							building="building_university"
							level=15
							reserves=1
						}
					}
					else_if = {
						limit = {
							state_has_building_group_levels = {
								type = bg_technology
								value = 15
							}
						}
						create_building={
							building="building_university"
							level=16
							reserves=1
						}
					}
					else_if = {
						limit = {
							state_has_building_group_levels = {
								type = bg_technology
								value = 16
							}
						}
						create_building={
							building="building_university"
							level=17
							reserves=1
						}
					}
					else_if = {
						limit = {
							state_has_building_group_levels = {
								type = bg_technology
								value = 17
							}
						}
						create_building={
							building="building_university"
							level=18
							reserves=1
						}
					}
					else_if = {
						limit = {
							state_has_building_group_levels = {
								type = bg_technology
								value = 18
							}
						}
						create_building={
							building="building_university"
							level=19
							reserves=1
						}
					}
					else_if = {
						limit = {
							state_has_building_group_levels = {
								type = bg_technology
								value = 19
							}
						}
						create_building={
							building="building_university"
							level=20
							reserves=1
						}
					}
				}
			}
			else = {
				if = {
					limit = {
						state_has_building_group_levels = {
							type = bg_technology
							value = 1
						}
					}
					random_scope_state = {
						create_building={
							building="building_university"
							level=1
							reserves=1
						}
					}
				}
				else_if = {
					limit = {
						state_has_building_group_levels = {
							type = bg_technology
							value = 1
						}
					}
					create_building={
						building="building_university"
						level=2
						reserves=1
					}
				}
				else_if = {
					limit = {
						state_has_building_group_levels = {
							type = bg_technology
							value = 2
						}
					}
					create_building={
						building="building_university"
						level=3
						reserves=1
					}
				}
				else_if = {
					limit = {
						state_has_building_group_levels = {
							type = bg_technology
							value = 3
						}
					}
					create_building={
						building="building_university"
						level=4
						reserves=1
					}
				}
				else_if = {
					limit = {
						state_has_building_group_levels = {
							type = bg_technology
							value = 4
						}
					}
					create_building={
						building="building_university"
						level=5
						reserves=1
					}
				}
				else_if = {
					limit = {
						state_has_building_group_levels = {
							type = bg_technology
							value = 5
						}
					}
					create_building={
						building="building_university"
						level=6
						reserves=1
					}
				}
				else_if = {
					limit = {
						state_has_building_group_levels = {
							type = bg_technology
							value = 6
						}
					}
					create_building={
						building="building_university"
						level=7
						reserves=1
					}
				}
				else_if = {
					limit = {
						state_has_building_group_levels = {
							type = bg_technology
							value = 7
						}
					}
					create_building={
						building="building_university"
						level=8
						reserves=1
					}
				}
				else_if = {
					limit = {
						state_has_building_group_levels = {
							type = bg_technology
							value = 8
						}
					}
					create_building={
						building="building_university"
						level=9
						reserves=1
					}
				}
				else_if = {
					limit = {
						state_has_building_group_levels = {
							type = bg_technology
							value = 9
						}
					}
					create_building={
						building="building_university"
						level=10
						reserves=1
					}
				}
				else_if = {
					limit = {
						state_has_building_group_levels = {
							type = bg_technology
							value = 10
						}
					}
					create_building={
						building="building_university"
						level=11
						reserves=1
					}
				}
				else_if = {
					limit = {
						state_has_building_group_levels = {
							type = bg_technology
							value = 11
						}
					}
					create_building={
						building="building_university"
						level=12
						reserves=1
					}
				}
				else_if = {
					limit = {
						state_has_building_group_levels = {
							type = bg_technology
							value = 12
						}
					}
					create_building={
						building="building_university"
						level=13
						reserves=1
					}
				}
				else_if = {
					limit = {
						state_has_building_group_levels = {
							type = bg_technology
							value = 13
						}
					}
					create_building={
						building="building_university"
						level=14
						reserves=1
					}
				}
				else_if = {
					limit = {
						state_has_building_group_levels = {
							type = bg_technology
							value = 14
						}
					}
					create_building={
						building="building_university"
						level=15
						reserves=1
					}
				}
				else_if = {
					limit = {
						state_has_building_group_levels = {
							type = bg_technology
							value = 15
						}
					}
					create_building={
						building="building_university"
						level=16
						reserves=1
					}
				}
				else_if = {
					limit = {
						state_has_building_group_levels = {
							type = bg_technology
							value = 16
						}
					}
					create_building={
						building="building_university"
						level=17
						reserves=1
					}
				}
				else_if = {
					limit = {
						state_has_building_group_levels = {
							type = bg_technology
							value = 17
						}
					}
					create_building={
						building="building_university"
						level=18
						reserves=1
					}
				}
				else_if = {
					limit = {
						state_has_building_group_levels = {
							type = bg_technology
							value = 18
						}
					}
					create_building={
						building="building_university"
						level=19
						reserves=1
					}
				}
				else_if = {
					limit = {
						state_has_building_group_levels = {
							type = bg_technology
							value = 19
						}
					}
					create_building={
						building="building_university"
						level=20
						reserves=1
					}
				}
			}
			remove_variable = actionee
		}
		remove_global_variable = GM_taking_action
	}
	
	option = {
		name = gm_actions.16.b
		scope:recipient = {
			if = {
				limit = {
					any_scope_state = {
						has_decree = decree_host_scope
					}
				}
				random_scope_state = {
					limit = {
						has_decree = decree_host_scope
					}
						
					if = {
						limit = {
							NOT = { has_building = building_government_administration }
						}
						create_building={
							building="building_government_administration"
							level=1
							reserves=1
						}
					}
					else_if = {
						limit = {
							state_has_building_group_levels = {
								type = bg_bureaucracy
								value = 1
							}
						}
						create_building={
							building="building_government_administration"
							level=2
							reserves=1
						}
					}
					else_if = {
						limit = {
							state_has_building_group_levels = {
								type = bg_bureaucracy
								value = 2
							}
						}
						create_building={
							building="building_government_administration"
							level=3
							reserves=1
						}
					}
					else_if = {
						limit = {
							state_has_building_group_levels = {
								type = bg_bureaucracy
								value = 3
							}
						}
						create_building={
							building="building_government_administration"
							level=4
							reserves=1
						}
					}
					else_if = {
						limit = {
							state_has_building_group_levels = {
								type = bg_bureaucracy
								value = 4
							}
						}
						create_building={
							building="building_government_administration"
							level=5
							reserves=1
						}
					}
					else_if = {
						limit = {
							state_has_building_group_levels = {
								type = bg_bureaucracy
								value = 5
							}
						}
						create_building={
							building="building_government_administration"
							level=6
							reserves=1
						}
					}
					else_if = {
						limit = {
							state_has_building_group_levels = {
								type = bg_bureaucracy
								value = 6
							}
						}
						create_building={
							building="building_government_administration"
							level=7
							reserves=1
						}
					}
					else_if = {
						limit = {
							state_has_building_group_levels = {
								type = bg_bureaucracy
								value = 7
							}
						}
						create_building={
							building="building_government_administration"
							level=8
							reserves=1
						}
					}
					else_if = {
						limit = {
							state_has_building_group_levels = {
								type = bg_bureaucracy
								value = 8
							}
						}
						create_building={
							building="building_government_administration"
							level=9
							reserves=1
						}
					}
					else_if = {
						limit = {
							state_has_building_group_levels = {
								type = bg_bureaucracy
								value = 9
							}
						}
						create_building={
							building="building_government_administration"
							level=10
							reserves=1
						}
					}
					else_if = {
						limit = {
							state_has_building_group_levels = {
								type = bg_bureaucracy
								value = 10
							}
						}
						create_building={
							building="building_government_administration"
							level=11
							reserves=1
						}
					}
					else_if = {
						limit = {
							state_has_building_group_levels = {
								type = bg_bureaucracy
								value = 11
							}
						}
						create_building={
							building="building_government_administration"
							level=12
							reserves=1
						}
					}
					else_if = {
						limit = {
							state_has_building_group_levels = {
								type = bg_bureaucracy
								value = 12
							}
						}
						create_building={
							building="building_government_administration"
							level=13
							reserves=1
						}
					}
					else_if = {
						limit = {
							state_has_building_group_levels = {
								type = bg_bureaucracy
								value = 13
							}
						}
						create_building={
							building="building_government_administration"
							level=14
							reserves=1
						}
					}
					else_if = {
						limit = {
							state_has_building_group_levels = {
								type = bg_bureaucracy
								value = 14
							}
						}
						create_building={
							building="building_government_administration"
							level=15
							reserves=1
						}
					}
					else_if = {
						limit = {
							state_has_building_group_levels = {
								type = bg_bureaucracy
								value = 15
							}
						}
						create_building={
							building="building_government_administration"
							level=16
							reserves=1
						}
					}
					else_if = {
						limit = {
							state_has_building_group_levels = {
								type = bg_bureaucracy
								value = 16
							}
						}
						create_building={
							building="building_government_administration"
							level=17
							reserves=1
						}
					}
					else_if = {
						limit = {
							state_has_building_group_levels = {
								type = bg_bureaucracy
								value = 17
							}
						}
						create_building={
							building="building_government_administration"
							level=18
							reserves=1
						}
					}
					else_if = {
						limit = {
							state_has_building_group_levels = {
								type = bg_bureaucracy
								value = 18
							}
						}
						create_building={
							building="building_government_administration"
							level=19
							reserves=1
						}
					}
					else_if = {
						limit = {
							state_has_building_group_levels = {
								type = bg_bureaucracy
								value = 19
							}
						}
						create_building={
							building="building_government_administration"
							level=20
							reserves=1
						}
					}
				}
			}
			else = {
				if = {
					limit = {
						state_has_building_group_levels = {
							type = bg_bureaucracy
							value = 1
						}
					}
					random_scope_state = {
						create_building={
							building="building_government_administration"
							level=1
							reserves=1
						}
					}
					else_if = {
						limit = {
							state_has_building_group_levels = {
								type = bg_bureaucracy
								value = 1
							}
						}
						create_building={
							building="building_government_administration"
							level=2
							reserves=1
						}
					}
					else_if = {
						limit = {
							state_has_building_group_levels = {
								type = bg_bureaucracy
								value = 2
							}
						}
						create_building={
							building="building_government_administration"
							level=3
							reserves=1
						}
					}
					else_if = {
						limit = {
							state_has_building_group_levels = {
								type = bg_bureaucracy
								value = 3
							}
						}
						create_building={
							building="building_government_administration"
							level=4
							reserves=1
						}
					}
					else_if = {
						limit = {
							state_has_building_group_levels = {
								type = bg_bureaucracy
								value = 4
							}
						}
						create_building={
							building="building_government_administration"
							level=5
							reserves=1
						}
					}
					else_if = {
						limit = {
							state_has_building_group_levels = {
								type = bg_bureaucracy
								value = 5
							}
						}
						create_building={
							building="building_government_administration"
							level=6
							reserves=1
						}
					}
					else_if = {
						limit = {
							state_has_building_group_levels = {
								type = bg_bureaucracy
								value = 6
							}
						}
						create_building={
							building="building_government_administration"
							level=7
							reserves=1
						}
					}
					else_if = {
						limit = {
							state_has_building_group_levels = {
								type = bg_bureaucracy
								value = 7
							}
						}
						create_building={
							building="building_government_administration"
							level=8
							reserves=1
						}
					}
					else_if = {
						limit = {
							state_has_building_group_levels = {
								type = bg_bureaucracy
								value = 8
							}
						}
						create_building={
							building="building_government_administration"
							level=9
							reserves=1
						}
					}
					else_if = {
						limit = {
							state_has_building_group_levels = {
								type = bg_bureaucracy
								value = 9
							}
						}
						create_building={
							building="building_government_administration"
							level=10
							reserves=1
						}
					}
					else_if = {
						limit = {
							state_has_building_group_levels = {
								type = bg_bureaucracy
								value = 10
							}
						}
						create_building={
							building="building_government_administration"
							level=11
							reserves=1
						}
					}
					else_if = {
						limit = {
							state_has_building_group_levels = {
								type = bg_bureaucracy
								value = 11
							}
						}
						create_building={
							building="building_government_administration"
							level=12
							reserves=1
						}
					}
					else_if = {
						limit = {
							state_has_building_group_levels = {
								type = bg_bureaucracy
								value = 12
							}
						}
						create_building={
							building="building_government_administration"
							level=13
							reserves=1
						}
					}
					else_if = {
						limit = {
							state_has_building_group_levels = {
								type = bg_bureaucracy
								value = 13
							}
						}
						create_building={
							building="building_government_administration"
							level=14
							reserves=1
						}
					}
					else_if = {
						limit = {
							state_has_building_group_levels = {
								type = bg_bureaucracy
								value = 14
							}
						}
						create_building={
							building="building_government_administration"
							level=15
							reserves=1
						}
					}
					else_if = {
						limit = {
							state_has_building_group_levels = {
								type = bg_bureaucracy
								value = 15
							}
						}
						create_building={
							building="building_government_administration"
							level=16
							reserves=1
						}
					}
					else_if = {
						limit = {
							state_has_building_group_levels = {
								type = bg_bureaucracy
								value = 16
							}
						}
						create_building={
							building="building_government_administration"
							level=17
							reserves=1
						}
					}
					else_if = {
						limit = {
							state_has_building_group_levels = {
								type = bg_bureaucracy
								value = 17
							}
						}
						create_building={
							building="building_government_administration"
							level=18
							reserves=1
						}
					}
					else_if = {
						limit = {
							state_has_building_group_levels = {
								type = bg_bureaucracy
								value = 18
							}
						}
						create_building={
							building="building_government_administration"
							level=19
							reserves=1
						}
					}
					else_if = {
						limit = {
							state_has_building_group_levels = {
								type = bg_bureaucracy
								value = 19
							}
						}
						create_building={
							building="building_government_administration"
							level=20
							reserves=1
						}
					}
				}
			}
			remove_variable = actionee
		}
		remove_global_variable = GM_taking_action
	}
	
	option = {
		name = gm_actions.14.c
		scope:recipient = {
			remove_variable = actionee
		}
		remove_global_variable = GM_taking_action
	}
}

gm_actions.17 = {
	type = country_event
	placement = ROOT
	title = gm_actions.17.t
	desc = gm_actions.17.d
	#flavor = gm_actions.17.f

	event_image = {
		video = "unspecific_signed_contract"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	duration = 1

	immediate = {
		random_country = {
			limit = {
				has_variable = actionee
			}
			save_scope_as = recipient
		}
	}
	
	option = {
		name = gm_actions.17.a
		scope:recipient = {
			if = {
				limit = {
					any_scope_state = {
						has_decree = decree_host_scope
						is_incorporated = no
					}
				}
				random_scope_state = {
					limit = {
						has_decree = decree_host_scope
						is_incorporated = no
					}
					set_state_type = incorporated
				}
			}
			else_if = {
				limit = {
					any_scope_state = {
						has_decree = decree_host_scope
						is_incorporated = yes
					}
				}
				random_scope_state = {
					limit = {
						has_decree = decree_host_scope
						is_incorporated = yes
					}
					set_state_type = unincorporated
				}
			}
		}
		scope:recipient = {
			remove_variable = actionee
		}
		remove_global_variable = GM_taking_action
	}
	
	
	option = {
		name = gm_actions.14.c
		scope:recipient = {
			remove_variable = actionee
		}
		remove_global_variable = GM_taking_action
	}
	
}