namespace = grants

grants.1 = {
	type = country_event
	placement = ROOT
	title = grants.1.t
	desc = grants.1.d
	flavor = grants.1.f

	event_image = {
		video = "unspecific_signed_contract"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	duration = 1
	
	trigger = {
		#triggered by diplo action
	}
	
	immediate = {
		random_country = {
			limit = {
				has_variable = grant_recipient
			}
			save_scope_as = grantee_scope
		}
	}
	
	#250000
	option = {
		name = grants.1.a
		add_modifier = {
			name = sending_grant_250
			months = 3
		}
		scope:grantee_scope = {
			add_modifier = {
				name = receiving_grant_250
				months = 3
			}
			remove_variable = grant_recipient
			remove_global_variable = grant_being_given
			trigger_event = {
				id = grants.2
				days = 0
				popup = yes
			}
		}
	}
	
	option = {
		name = grants.1.b
		add_modifier = {
			name = sending_grant_500
			months = 3
		}
		scope:grantee_scope = {
			add_modifier = {
				name = receiving_grant_500
				months = 3
			}
			remove_variable = grant_recipient
			remove_global_variable = grant_being_given
			trigger_event = {
				id = grants.2
				days = 0
				popup = yes
			}
		}
	}
	
	option = {
		name = grants.1.c
		add_modifier = {
			name = sending_grant_1000
			months = 3
		}
		scope:grantee_scope = {
			add_modifier = {
				name = receiving_grant_1000
				months = 3
			}
			remove_variable = grant_recipient
			remove_global_variable = grant_being_given
			trigger_event = {
				id = grants.2
				days = 0
				popup = yes
			}
		}
	}
	
	option = {
		name = grants.1.e
		add_modifier = {
			name = sending_grant_2000
			months = 3
		}
		scope:grantee_scope = {
			add_modifier = {
				name = receiving_grant_2000
				months = 3
			}
			remove_variable = grant_recipient
			remove_global_variable = grant_being_given
			trigger_event = {
				id = grants.2
				days = 0
				popup = yes
			}
		}
	}
	
	option = {
		name = grants.1.g
		add_modifier = {
			name = sending_grant_4000
			months = 3
		}
		scope:grantee_scope = {
			add_modifier = {
				name = receiving_grant_4000
				months = 3
			}
			remove_variable = grant_recipient
			remove_global_variable = grant_being_given
			trigger_event = {
				id = grants.2
				days = 0
				popup = yes
			}
		}
	}
	
	option = {
		name = grants.1.h
		add_modifier = {
			name = sending_grant_8000
			months = 3
		}
		scope:grantee_scope = {
			add_modifier = {
				name = receiving_grant_8000
				months = 3
			}
			remove_variable = grant_recipient
			remove_global_variable = grant_being_given
			trigger_event = {
				id = grants.2
				days = 0
				popup = yes
			}
		}
	}
	
}

grants.2 = {
	type = country_event
	placement = ROOT
	title = grants.2.t
	desc = grants.2.d
	flavor = grants.2.f

	event_image = {
		video = "unspecific_signed_contract"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"
	
	duration = 3
	
	option = {
		name = grants.2.a
	}
}